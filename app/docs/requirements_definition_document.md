# 要件定義書

主な使用をまとめるために記述する

## 目的

恋愛離れと言われるので、その中でも異性と気軽に触れ合えるようになってほしい。大きい話になるかもしれないが、少子化が進んでいく世の中で恋愛をする、いろんな人に触れ合い価値観、人生観を広げて行ってほしい。

## 概要

20代以上の男女に向けて、気軽に異性とやり取りができる、恋愛できるプラットフォーム作り

## システム方式・構成

- フロントエンド
  - Next.js
  - Typescript

- バックエンド
  - Golang

- 通信方式
  - GraphQL

- データベース
  - MySQL

- インフラ
  - AWS
  
- CD/CI
  - Github Action

- バージョン管理
  - Github

## 用語定義

## 業務要件

## 現状のフロー

未実装

## 構築後のフロー

下記「データフロー」に記載

## 利用者一覧

基本的に若年層の男女

## 規模

個人開発なので1人

## 機能要件

ここからは機能要件を記述します。機能要件はクライアントから求められる機能になります。

## 画面

1.トップページ（LP）

- アカウントを登録していなくても閲覧できるページ。いわゆるランディングページ

2.アカウント作成ページ

1. メールアドレス入力ページ

   - 送信するメールアドレスを入力するページ

2. PINCode入力ページ

   - 送信されたメールに記述しているコードを入力するページ

3. アカウント情報入力ページ

3.ログインページ

4.ユーザーリストページ

- 検索条件、プロフィール情報をもとに他ユーザーのリストを取得

5.ユーザー詳細ページ

6.プロフィール編集ページ

7.セッティングページ

## 権限

- デフォルトでは誰でも扱えるレベルの権限が与えられる
- 課金ユーザーに関しては追加で機能が加えられる

## 外部インタフェース

- メール（SendGrid）

通知などをユーザーへメールを送信する

- 課金周り（実装予定）

Spriteで実装を行う

## データフロー

- アカウント登録

1.メールアドレスを入力して、そのアドレス宛にメールを送信する

2.送信されたメールに記述しているPINコードを入力し、有効なメールアドレスか判断する

3.アカウント情報（ユーザー名、性別、電話番号）を入力する

4.パスワード、確認パスワードを入力する

5.アカウント、ユーザー、プロフィール、検索情報が各種作成される

- ユーザー検索

1.登録した性別とは別の性別でリストを取得する

2.登録したプロフィール情報を元に相性のいい人をリストで取得する

- ユーザー詳細

1.ユーザーのプロフィールを閲覧できる

2.好みのユーザーに対していいねできる

3.メッセージ送信できる

- ユーザープロフィール登録

1.各項目設定できる

2.入力した項目が多いほど、相性の合う人がおすすめされやすい

## 非機能要件

### インフラ

- AWSで構築する

  - コンテナ技術を採用する

  - Terraformで記述、構築

## スケジュール

未定（なるべく短く行う）

- 本業の合間に進める

## 予算

予定なし

## テーブル設計について

### ユーザーアカウントについて

- アカウントテーブル
  - メールアドレスやパスワードなど、ユーザーへ返すことが基本的に少なく変更頻度も少ない情報をこちらへ保存する
- ユーザーテーブル
  - アカウントテーブルとは違いユーザーへ返すことがある、変更頻度がアカウント情報と比べて多い情報を保存する
- ユーザープロフィールテーブル
  - ユーザーのプロフィールを保存する。ユーザーテーブルよりも更新頻度は高いものを保存する
- ユーザー検索フィルターテーブル
  - 他のユーザーを検索する、検索した条件を保存する。
- メールアドレス確認テーブル
  - アカウント登録時にメール送信できるか確認するために必要。サブアカウントは禁止にしたい

### その他機能について

### テーブル設計

- 通報テーブル
  - 通報の履歴を残すためのテーブル
- ブロックテーブル
  - ブロック機能実装のために必要なテーブル
- いいねテーブル
  - 気になるユーザーへのいいねを保存するためのテーブル
- マッチングテーブル
  - マッチングした際に保存するテーブル
- メッセージテーブル
  - やりとりの履歴を残すためのテーブル
- 設定テーブル
  - 設定を保存するためのテーブル

## 作成日

2023 / 3 / 18
